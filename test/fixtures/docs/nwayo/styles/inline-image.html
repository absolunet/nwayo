<!doctype html>
<html lang="en-CA" class="no-js">
<head>
	<meta charset="utf-8">
	<title>Inline image - nwayo üå∞</title>

	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta http-equiv="cleartype" content="on">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="canonical" href="https://absolunet.github.io/nwayo/styles/inline-image" />

	<link rel="stylesheet" href="/nwayo/static/styles/main.css">
	<link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,500,700|Lato:100,100i,300,300i,400,400i,700,700i,900,900i|Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

	<!-- (c) 2011-2018 Absolunet -->
</head>
<body>

	<header>
		<p class="nwayo"><a href="/nwayo"><img src="/nwayo/static/images/nwayo.svg" class="logo"> nwayo</a> <span class="version">3.4.2</span></p>
		<a href="https://github.com/absolunet/nwayo" class="github"><svg class="logo" viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
 View on GitHub</a>
	</header>

	<div class="container">
		<nav>
			<ul>
	
		<li>
			
				<a href="/nwayo/architecture" >Architecture</a>
			

			
				<ul>
	
		<li>
			
				<a href="/nwayo/architecture/bundle" >Bundle</a>
			

			
		</li>
	
		<li>
			
				<a href="/nwayo/architecture/component" >Component</a>
			

			
		</li>
	
</ul>

			
		</li>
	
		<li>
			
				<a href="/nwayo/assets" >Assets</a>
			

			
				<ul>
	
		<li>
			
				<a href="/nwayo/assets/icon" >Icon</a>
			

			
		</li>
	
		<li>
			
				<a href="/nwayo/assets/image" >Image</a>
			

			
		</li>
	
</ul>

			
		</li>
	
		<li>
			
				<a href="/nwayo/cli" >CLI  </a>
			

			
		</li>
	
		<li>
			
				<a href="/nwayo/requirements" >Requirements</a>
			

			
				<ul>
	
		<li>
			
				<a href="/nwayo/requirements/macos" >Requirements installation under macOS</a>
			

			
		</li>
	
		<li>
			
				<a href="/nwayo/requirements/windows" >Requirements installation under Windows</a>
			

			
		</li>
	
</ul>

			
		</li>
	
		<li>
			
				<a href="/nwayo/scripts" >Scripts</a>
			

			
				<ul>
	
		<li>
			
				<a href="/nwayo/scripts/convention" >Conventions</a>
			

			
		</li>
	
		<li>
			
				<a href="/nwayo/scripts/file-architecture" >Composition d&#39;un fichier</a>
			

			
		</li>
	
		<li>
			
				<a href="/nwayo/scripts/generation-tools" >Outils de g√©n√©ration</a>
			

			
		</li>
	
		<li>
			
				<a href="/nwayo/scripts/global-architecture" >Architecture globale</a>
			

			
		</li>
	
		<li>
			
				<a href="/nwayo/scripts/libraries" >Librairies</a>
			

			
		</li>
	
		<li>
			
				<a href="/nwayo/scripts/recipes" >Recettes</a>
			

			
		</li>
	
		<li>
			
				<a href="/nwayo/scripts/template-system" >Syst√®me de template</a>
			

			
		</li>
	
</ul>

			
		</li>
	
		<li>
			
				<a href="/nwayo/styles" class="active">Styles</a>
			

			
				<ul>
	
		<li>
			
				<a href="/nwayo/styles/components" >Composantes nwayo / Foundation</a>
			

			
		</li>
	
		<li>
			
				<a href="/nwayo/styles/convention" >Conventions</a>
			

			
		</li>
	
		<li>
			
				<a href="/nwayo/styles/font" >Polices</a>
			

			
		</li>
	
		<li>
			
				<a href="/nwayo/styles/generation-tools" >Outils de g√©n√©ration</a>
			

			
		</li>
	
		<li>
			
				<a href="/nwayo/styles/global-architecture" >Architecture globale</a>
			

			
		</li>
	
		<li>
			
				<a href="/nwayo/styles/image" >Images</a>
			

			
		</li>
	
		<li>
			
				<span>Inline image</span>
			

			
		</li>
	
		<li>
			
				<a href="/nwayo/styles/recipes" >Recettes</a>
			

			
		</li>
	
</ul>

			
		</li>
	
</ul>

		</nav>

		<main>
			<h1>Inline image</h1>
<p>La diff√©rence entre les <code>images inline</code> et les <code>images</code> est que l'<code>image inline</code> int√©grera le contenu de l'image directement dans la feuille de styles, ce qui √©limine une autre requ√™te HTTP.
Les images sont situ√©es sous le dossier <code>inline-images</code>, sous la composante associ√©e √† l'image en question.</p>
<h2>Mixin</h2>
<p>Le mixin utilis√© pour g√©n√©rer les images au niveau du css. Il sera ensuite possible de les inclure par <code>@include</code> sous le s√©lecteur voulu.</p>
<h2>Fonctionnement</h2>
<pre><code class="language-scss">//-- Background image
@mixin bg-image-mixin ($file, $context, $inline:false, $width:false, $height:false, $color:false) {
	
	// uri
	$uri: '';
	@if $inline {
		$inline-image-path: assets-path($file, $context, 'inline');

		@if str-index($file, '.svg') {
			$svg: readfile($inline-image-path);

			@if $color {

				// single color
				@if type-of($color) == 'color' {
					$svg: color-replace($svg, $svg-replacement-1, $color);

				// list
				} @else if type-of($color) == 'list' {
					@for $i from 1 through length($color) {
						$svg: color-replace($svg, nth($svg-replacement, $i), nth($color, $i));
					}

				// hash
				} @else {
					@each $source, $target in $color {
						$svg: color-replace($svg, $source, $target);
					}
				}
			}

			$uri: svg-data-uri($svg);

		} @else {
			$uri: inline-image($inline-image-path);
		}
	} @else {
		$uri: url(assets-path($file, $context, 'images'));
	}
	
	// high density
	@if str-index($file, '@2x') {
		$path: 'components/' + $context + '/assets/' + if($inline, 'inline-', '') + 'images/' + $file;
		$width:  if($width, $width, image-width($path));
		$height: if($height, $height, image-height($path));

		@media print, (-webkit-min-device-pixel-ratio: 1.25), (min-resolution: 1.25dppx), (min-resolution: 120dpi) {
			background-image: $uri;
			background-size: $width / 2 $height / 2;
		}

		$uri: str-replace($uri, '@2x', '');
	}

	background-image: #{$uri};
}
</code></pre>
<ul>
<li><code>$file</code> = Le nom du fichier image.</li>
<li><code>$context</code> = Le contexte dans lequel se situe l'image.</li>
<li><code>$inline</code> = Si l'image est inline ou non.</li>
<li><code>$width</code> = Assigner la largeur d'une image @2x.</li>
<li><code>$height</code> = Assigner la hauteur d'une image @2x.</li>
<li><code>$color</code> = La couleur utilis√©e pour les svg.</li>
</ul>
<p>Il est aussi possible d'utiliser <code>scalable-icon-mixin</code> pour les ic√¥nes et ainsi avoir des styles de bases pour les diff√©rentes propri√©t√©s de background importantes.</p>
<pre><code class="language-scss">//-- Scalable icon
@mixin scalable-icon-mixin ($file, $context, $color:false) {
	@include bg-image-mixin($file, $context, $inline:true, $color:$color);
	background-position: center center;
	background-repeat: no-repeat;
	background-size: contain;
}
</code></pre>
<h2>Comment utiliser</h2>
<p>Pour g√©n√©rer le bon code, vous devez au moins fournir <code>$file</code> et <code>$context</code>. La variable <code>$inline</code> est n√©cessaire lors de l'utilisation au niveau du <code>bg-image-mixin</code>. Pour le mixin <code>scalable-icon-mixin</code>, la variable <code>$inline</code> est automatiquement ajout√© √† <code>true</code>.</p>
<pre><code class="language-scss">// Inline
@mixin misc3-image { @include bg-image-mixin('misc3.png', 'common', $inline:true); }
@mixin icon3-image { @include bg-image-mixin('icon3.png', 'foobar', $inline:true); }

// Scalable
@mixin icon4-image { @include scalable-icon-mixin('icon4.svg', 'foobar'); }

//-- Appel dans le css
.logo {
	@include logo1-image;
}
</code></pre>
<p>Pour g√©n√©rer un svg d'une ou plusieurs couleurs, le svg doit absolument corresponde √† l'une de ces options.</p>
<ol>
<li><strong>Couleur simple</strong>: la couleur pass√©e en param√®tre remplacera la couleur <code>#BA0BAB</code> du svg.</li>
<li><strong>Liste</strong>: deux couleurs doivent √™tre pass√©es en param√®tre sous ce format <code>($firstColor, $secondColor)</code>. Ces couleurs remplaceront les couleurs du svg dans l'ordre <code>#BA0BAB</code>, <code>#C0FFEE</code>.</li>
<li><strong>Hash</strong>: √Ä l'aide d'un map auquel la valeur remplacera la key. <code>(key1: value1, key2: value2, key3: value3)</code></li>
</ol>
<pre><code class="language-scss">// Scalable with color
$firstColor  = #25329d;
$secondColor = #636363;
$firstKey    = #ff0000;
$secondKey   = #00ff00;
$map: ($firstKey: $firstColor, $secondKey: $secondColor);

//-- Single color
@mixin icon-single-color { @include scalable-icon-mixin('icon-single.svg', 'foobar', $color:$firstColor); }

//-- List
@mixin icon-list-color { @include scalable-icon-mixin('icon-list.svg', 'foobar', $color:($firstColor, $secondColor)); }

//-- Hash
@mixin icon-hash-color { @include scalable-icon-mixin('icon-map.svg', 'foobar', $color:$map); }

</code></pre>

			<p class="edit-page"><a href="https://github.com/absolunet/nwayo/blob/master/docs/styles/inline-image.md">Edit this page</a></p>
		</main>
	</div>

	<footer>
			<a href="https://github.com/absolunet/nwayo/blob/master/license">MIT</a> &copy; 2011-2018
			<span class="made">
				Made with <span class="adjective" data-component="adjective">&#x2764;</span> by
				<a href="https://absolunet.com"><svg class="logo"><path d="M24 24H0V0c.121.007.242.021.364.021C8.117.022 15.87.022 23.623.022c.355 0 .355 0 .355.355 0 7.753 0 15.506.001 23.259 0 .122.014.243.021.364zm-8.33-6.119c-.045-.154-.067-.254-.103-.349-.221-.578-.446-1.154-.669-1.731-1.171-3.032-2.343-6.063-3.507-9.097-.08-.21-.18-.294-.413-.287-.593.018-1.188.019-1.781 0-.234-.007-.332.08-.413.288-1.399 3.625-2.806 7.248-4.21 10.871-.033.084-.055.172-.085.269.08.016.122.033.164.033.882.002 1.764.008 2.645-.006.088-.001.215-.11.252-.199.168-.402.315-.812.459-1.223.056-.161.136-.236.32-.235 1.17.008 2.34.007 3.51.001.182-.001.262.071.314.239.125.399.276.79.401 1.189.057.18.152.246.34.243.576-.01 1.152-.003 1.729-.003.331-.003.66-.003 1.047-.003zm1.742-2.654c-.018.055-.032.079-.032.103-.002.794 0 1.588-.006 2.382-.001.166.088.179.215.179.742-.002 1.483-.005 2.225.002.17.001.228-.06.227-.229-.006-.741-.007-1.483.001-2.225.002-.183-.076-.217-.235-.214-.445.007-.89.002-1.335.002h-1.06z"/><path d="M10.13 10.551c.373 1.083.745 2.166 1.13 3.285H8.942c.378-1.1.752-2.191 1.127-3.282.021-.001.041-.002.061-.003z"/></svg>
 Absolunet</a>
			</span>
	</footer>

	<script src="/nwayo/static/scripts/main.js" defer></script>

</body>
</html>
