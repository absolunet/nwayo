# 3.5.x → 3.6.x
[View the source differences on GitHub](https://github.com/absolunet/nwayo/compare/3.5.0...3.6.0)

## Key changes
- Switch from RubySass to DartSass (Node.js flavor)
- Added [extensions](../extensions) connector
- konstan SCSS map ([#45](https://github.com/absolunet/nwayo/issues/45))
- `nwayo doctor` now checks if your project follows conventions
- Added a checksum cache buster for images/fonts referenced in CSS ([#44](https://github.com/absolunet/nwayo/issues/44))
- Update to Foundation 6.5.0
- Removed FastClick
- Workflow rewritten in OOP structure
- Maintenance updates to dependencies and linters

## What to do
Update version in `bower.json` and `package.json` (duh...)

### FastClick removal
- In the bundle `_dependencies.yaml` remove `bower_components/nwayo-toolbox/toolbox/scripts/wrapper/fastclick`
- Remove `FastClick.attach(document.body);` in your javascript files containing it

### konstan SCSS map
Change `$konstan-*` variable for the function `konstan-get('*')`

Examples for a `konstan.yaml` containing
```yaml
data:

  dimension:
    small:    600
    medium:   900

  color:
    shell:       '#659d32'
    shell-shade: '#618931'

    messages:
      success: '#4fb980'
      warning: '#ffd061'
      error:   '#d66161'
```
- `$konstan-dimension-small` → `konstan-get('dimension.small')`
- `$konstan-color-shell-shade` → `konstan-get('color.shell-shade')`
- `$konstan-color-message-success` → `konstan-get('color.message.success')`

### ESLint [require-unicode-regexp](https://eslint.org/docs/rules/require-unicode-regexp)
This new rule requires to add the `u` unicode flag which will trigger a strict validation mode for the RegExp.

So adding the flag is easy:
- `(/foo/).test(bar)` → `(/foo/u).test(bar)`
- `(/foo/i).test(bar)` → `(/foo/ui).test(bar)`
- `new RegExp('foo')` → `new RegExp('foo', 'u')`
- `new RegExp('foo', 'i')` → `new RegExp('foo', 'ui')`

But you may now need to correct your RegExp, common changes are:
- Add escaping char `\+` → `+`
- Remove escaping char `+` → `\+`
- Push unescaped `-` at the end of a char list `[a-z\-0-9]` → `[a-z0-9-]`
